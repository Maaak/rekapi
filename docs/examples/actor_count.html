<!doctype html>
<html>
  <head>
    <title>Rekapi example</title>
    <script src="../../dist/underscore-min.js"></script>
    <script src="../../dist/shifty.min.js"></script>
    <script src="../../dist/rekapi.js"></script>
  </head>
  <body>
    <canvas></canvas>
    <script>
      var canvas = document.getElementsByTagName('canvas')[0];

      var rekapi = new Rekapi({
        'context': canvas,
        'height': 300,
        'width': 400
      });

      function getActorInstance () {
        return new Rekapi.CanvasActor({
          render: function (canvas_context, state) {
            canvas_context.beginPath();
              canvas_context.arc(
                state.x || 0,
                state.y || 0,
                state.radius || 50,
                0,
                Math.PI*2,
                true);
              canvas_context.fillStyle = state.color || '#f0f';
              canvas_context.fill();
              canvas_context.closePath();

              return this;
          }
        });
      }

      var actor1 = getActorInstance();
      var actor2 = getActorInstance();
      var actor3 = getActorInstance();

      console.log(rekapi.actorCount()); // 0
      rekapi.addActor(actor1);
      console.log(rekapi.actorCount()); // 1
      rekapi.addActor(actor2);
      console.log(rekapi.actorCount()); // 2
      rekapi.addActor(actor3);
      console.log(rekapi.actorCount()); // 3

      rekapi.addActor(actor3);
      // Still 3.  You can't add an actor more than once.
      console.log(rekapi.actorCount());
    </script>
  </body>
</html>
