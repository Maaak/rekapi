/*! Rekapi - v0.16.4 - 2014-01-07 - http://rekapi.com */
(function(t){function e(t,e,r,n){r.each(t._events[e],function(e){e(t,n)})}function r(t,e){var r=[];e.each(t._actors,function(t){r.push(t.getEnd())}),t._animationLength=Math.max.apply(Math,r)}function n(){}var i=[],o=function(n,i,o){"use strict";function a(t,e){var r=Math.floor(e/t._animationLength);return r}function s(t){return g()-t._loopTimestamp}function c(t,e){return e>=t._timesToIterate&&-1!==t._timesToIterate}function p(t,r){c(t,r)&&(t.stop(),e(t,"animationComplete",i))}function u(t,e,r){var n;return n=c(t,r)?t._animationLength:e%t._animationLength}function h(t,e){var r=a(t,e),n=u(t,e,r);t.update(n),p(t,r)}function f(t){h(t,s(t))}function l(e){e._loopId=e._scheduleUpdate.call?e._scheduleUpdate.call(t,e._updateFn,v):setTimeout(e._updateFn,v)}function d(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||t.mozCancelRequestAnimationFrame&&t.mozRequestAnimationFrame||t.setTimeout}function m(){return t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame||t.mozCancelRequestAnimationFrame||t.clearTimeout}function y(e){e._cancelUpdate.call?e._cancelUpdate.call(t,e._loopId):clearTimeout(e._loopId)}function _(t){return this.context=t||{},this._actors={},this._playState=k.STOPPED,this._events={animationComplete:[],playStateChange:[],play:[],pause:[],stop:[],beforeUpdate:[],afterUpdate:[],addActor:[],removeActor:[]},this._timesToIterate=-1,this._animationLength=0,this._loopId=null,this._loopTimestamp=null,this._pausedAtTime=null,this._lastUpdatedMillisecond=0,this._scheduleUpdate=d(),this._cancelUpdate=m(),this._updateFn=i.bind(function(){l(this),f(this)},this),i.each(_._rendererInitHook,function(t){t(this)},this),this}var v=1e3/60,g=o.now,k={STOPPED:"stopped",PAUSED:"paused",PLAYING:"playing"};_.Tweenable=o,_._=i,_._rendererInitHook={},_.prototype.addActor=function(t){return i.contains(this._actors,t)||(t.context===void 0&&(t.context=this.context),t.rekapi=this,this._actors[t.id]=t,r(this,i),t.setup(),e(this,"addActor",i,t)),this},_.prototype.getActor=function(t){return this._actors[t]},_.prototype.getActorIds=function(){return i.pluck(this._actors,"id")},_.prototype.getAllActors=function(){return i.clone(this._actors)},_.prototype.removeActor=function(t){return delete this._actors[t.id],delete t.rekapi,t.teardown(),r(this,i),e(this,"removeActor",i,t),this},_.prototype.play=function(t){return y(this),this._playState===k.PAUSED?this._loopTimestamp+=g()-this._pausedAtTime:this._loopTimestamp=g(),this._timesToIterate=t||-1,this._playState=k.PLAYING,l(this),e(this,"playStateChange",i),e(this,"play",i),this},_.prototype.playFrom=function(t,e){return this.play(e),this._loopTimestamp=g()-t,this},_.prototype.playFromCurrent=function(t){return this.playFrom(this._lastUpdatedMillisecond,t)},_.prototype.pause=function(){return this._playState===k.PAUSED?this:(this._playState=k.PAUSED,y(this),this._pausedAtTime=g(),e(this,"playStateChange",i),e(this,"pause",i),this)},_.prototype.stop=function(){return this._playState=k.STOPPED,y(this),i.each(this._actors,function(t){t.stop()}),e(this,"playStateChange",i),e(this,"stop",i),this},_.prototype.isPlaying=function(){return this._playState===k.PLAYING},_.prototype.animationLength=function(){return this._animationLength},_.prototype.lastPositionUpdated=function(){return this._lastUpdatedMillisecond/this._animationLength},_.prototype.actorCount=function(){return i.size(this._actors)},_.prototype.update=function(t){return void 0===t&&(t=this._lastUpdatedMillisecond),e(this,"beforeUpdate",i),i.each(this._actors,function(e){e._updateState(t),"function"==typeof e.update&&e.update(e.context,e.get())}),this._lastUpdatedMillisecond=t,e(this,"afterUpdate",i),this},_.prototype.on=function(t,e){return this._events[t]?(this._events[t].push(e),this):void 0},_.prototype.off=function(t,e){return this._events[t]?(this._events[t]=e?i.without(this._events[t],e):[],this):void 0},_.prototype.exportTimeline=function(){var t={duration:this._animationLength,actors:[]};return i.each(this._actors,function(e){t.actors.push(e.exportTimeline())},this),t},_.prototype.importTimeline=function(t){i.each(t.actors,function(t){var e=new _.Actor;e.importTimeline(t),this.addActor(e)},this)},_.util={},n.Rekapi=_};i.push(function(t){"use strict";function i(t){return t.sort(function(t,e){return t-e})}function o(t,e){var r,n=t._timelinePropertyCacheIndex,i=n.length;for(r=1;i>r;r++)if(n[r]>=e)return r-1;return-1}function a(t){y.each(t._propertyTracks,function(e,r){t._propertyTracks[r]=y.sortBy(t._propertyTracks[r],function(t){return t.millisecond})})}function s(t){y.each(t._timelinePropertyCaches,function(e,r){var n=c(t,+r);y.defaults(e,n)})}function c(t,e){var r={};return y.each(t._propertyTracks,function(t,n){var i=null;if(y.find(t,function(t){return t.millisecond>e?r[n]=i:t.millisecond===e&&(r[n]=t),i=t,!!r[n]}),!r[n]){var o=y.last(t);o&&e>=o.millisecond&&(r[n]=o)}}),r}function p(t){y.each(t._propertyTracks,function(t){y.each(t,function(e,r){e.linkToNext(t[r+1])})})}function u(t,e,r){return y.find(t._propertyTracks[e],function(t){return t.millisecond===r})}function h(t){t._timelinePropertyCaches={},y.each(t._keyframeProperties,function(e){t._timelinePropertyCaches[e.millisecond]||(t._timelinePropertyCaches[e.millisecond]={}),t._timelinePropertyCaches[e.millisecond][e.name]=e},t),t._timelinePropertyCacheIndex=y.keys(t._timelinePropertyCaches),y.each(t._timelinePropertyCacheIndex,function(e,r){t._timelinePropertyCacheIndex[r]=+e},t),i(t._timelinePropertyCacheIndex),s(t),p(t),t.rekapi&&e(t.rekapi,"timelineModified",y)}function f(t){a(t),h(t),r(t.rekapi,y)}var l="linear",d=t.Rekapi,m=d.Tweenable,y=d._;d.Actor=function(t){return t=t||{},m.call(this),y.extend(this,{_propertyTracks:{},_timelinePropertyCaches:{},_timelinePropertyCacheIndex:[],_keyframeProperties:{},id:y.uniqueId(),context:t.context,setup:t.setup||n,update:t.update||n,teardown:t.teardown||n,data:{}}),this};var _=d.Actor,v=function(){};v.prototype=m.prototype,_.prototype=new v,_.prototype.keyframe=function(t,e,n){var i;return n=n||l,"string"==typeof n&&(i=n,n={},y.each(e,function(t,e){n[e]=i})),y.each(e,function(t,e){n[e]=n[e]||l}),y.each(e,function(e,r){var i=new d.KeyframeProperty(t,r,e,n[r]);this._addKeyframeProperty(i)},this),this.rekapi&&r(this.rekapi,y),h(this),this},_.prototype.getKeyframeProperty=function(t,e){return this._propertyTracks[t]&&this._propertyTracks[t][e]?this._propertyTracks[t][e]:void 0},_.prototype.modifyKeyframeProperty=function(t,e,r){return this._propertyTracks[t]&&this._propertyTracks[t][e]&&this._propertyTracks[t][e].modifyWith(r),f(this),this},_.prototype.getTrackNames=function(){return y.keys(this._propertyTracks)},_.prototype.getTrackLength=function(t){return this._propertyTracks[t]?this._propertyTracks[t].length:void 0},_.prototype.copyProperties=function(t,e){var r={},n={};return y.each(this._propertyTracks,function(t,i){var o=u(this,i,e);o&&(r[i]=o.value,n[i]=o.easing)},this),this.keyframe(t,r,n),this},_.prototype.wait=function(t){var e=this.getEnd();if(e>=t)return this;var r=this.getEnd(),n=c(this,this.getEnd()),i={},o={};return y.each(n,function(t,e){i[e]=t.value,o[e]=t.easing}),this.removeKeyframe(r),this.keyframe(r,i,o),this.keyframe(t,i,o),this},_.prototype.getStart=function(t){var e=[];return t?e.push(this._propertyTracks[t][0].millisecond):y.each(this._propertyTracks,function(t){t.length&&e.push(t[0].millisecond)}),0===e.length&&(e=[0]),Math.min.apply(Math,e)},_.prototype.getEnd=function(t){var e=0,r=this._propertyTracks;return t&&(r={},r[t]=this._propertyTracks[t]),y.each(r,function(t){if(t.length){var r=y.last(t).millisecond;r>e&&(e=r)}},this),e},_.prototype.getLength=function(t){return this.getEnd(t)-this.getStart(t)},_.prototype.hasKeyframeAt=function(t,e){var r=this._propertyTracks;if(e){if(!y.has(r,e))return!1;r=y.pick(r,e)}return void 0!==y.find(r,function(e,r){var n=u(this,r,t);return void 0!==n},this)},_.prototype.moveKeyframe=function(t,e){return!this.hasKeyframeAt(t)||this.hasKeyframeAt(e)?!1:(y.each(this._propertyTracks,function(r,n){var i=u(this,n,t);i&&i.modifyWith({millisecond:e})},this),f(this),!0)},_.prototype.modifyKeyframe=function(t,e,r){return r=r||{},y.each(this._propertyTracks,function(n,i){var o=u(this,i,t);o&&o.modifyWith({value:e[i],easing:r[i]})},this),this},_.prototype.removeKeyframe=function(t){return y.each(this._propertyTracks,function(e){var r=-1,n=!1;if(y.find(e,function(e){return r++,n=t===e.millisecond}),n){var i=e.splice(r,1)[0];i&&delete this._keyframeProperties[i.id]}},this),this.rekapi&&r(this.rekapi,y),h(this),this},_.prototype.removeAllKeyframeProperties=function(){return y.each(this._propertyTracks,function(t){t.length=0},this),this._keyframeProperties={},this.removeKeyframe(0)},_.prototype._addKeyframeProperty=function(t){t.actor=this,this._keyframeProperties[t.id]=t;var e=t.name,r=this._propertyTracks;return this._propertyTracks[e]===void 0?r[e]=[t]:r[e].push(t),a(this),this},_.prototype._updateState=function(t){var e=this.getStart(),r=this.getEnd();if(t=Math.min(r,t),t>=e){var i=o(this,t),a=this._timelinePropertyCaches[this._timelinePropertyCacheIndex[i]],s={};y.each(a,function(e,r){e&&(this._beforeKeyframePropertyInterpolate!==n&&this._beforeKeyframePropertyInterpolate(e),s[r]=e.getValueAt(t),this._afterKeyframePropertyInterpolate!==n&&this._afterKeyframePropertyInterpolate(e,s))},this),this.set(s)}return this},_.prototype._beforeKeyframePropertyInterpolate=n,_.prototype._afterKeyframePropertyInterpolate=n,_.prototype.exportTimeline=function(){var t={start:this.getStart(),end:this.getEnd(),trackNames:this.getTrackNames(),propertyTracks:{}};return y.each(this._propertyTracks,function(e,r){var n=t.propertyTracks[r]=[];y.each(e,function(t){n.push(t.exportPropertyData())})}),t},_.prototype.importTimeline=function(t){y.each(t.propertyTracks,function(t){y.each(t,function(t){var e={};e[t.name]=t.value,this.keyframe(t.millisecond,e,t.easing)},this)},this)}}),i.push(function(t){"use strict";var e="linear",r=t.Rekapi,n=r.Tweenable,i=r._,o=n.interpolate;r.KeyframeProperty=function(t,r,n,o){return this.id=i.uniqueId("keyframeProperty_"),this.millisecond=t,this.name=r,this.value=n,this.easing=o||e,this.nextProperty=null,this};var a=r.KeyframeProperty;a.prototype.modifyWith=function(t){var e={};i.each(["millisecond","easing","value"],function(r){e[r]=t[r]===void 0?this[r]:t[r]},this),i.extend(this,e)},a.prototype.linkToNext=function(t){this.nextProperty=t||null},a.prototype.getValueAt=function(t){var e,r={},n={};if(this.nextProperty){r[this.name]=this.value,n[this.name]=this.nextProperty.value;var i=this.nextProperty.millisecond-this.millisecond,a=(t-this.millisecond)/i;e=o(r,n,a,this.nextProperty.easing)[this.name]}else e=this.value;return e},a.prototype.exportPropertyData=function(){return{millisecond:this.millisecond,name:this.name,value:this.value,easing:this.easing}}}),i.push(function(t){"use strict";function r(t,e,r){return r!==void 0&&(t[e]=r,t.style[e]=r+"px"),t[e]}function n(t){t.renderer.clear()}function i(t){e(t,"beforeRender",c);var r,n=t.renderer._renderOrder.length;if(t.renderer._renderOrderSorter){var i=c.sortBy(t.renderer._canvasActors,t.renderer._renderOrderSorter);r=c.pluck(i,"id")}else r=t.renderer._renderOrder;var o,a,s;for(s=0;n>s;s++)o=t.renderer._canvasActors[r[s]],a=o.context,o.render(a,o.get());return e(t,"afterRender",c),t}function o(t,e){e instanceof s.CanvasActor&&(t.renderer._renderOrder.push(e.id),t.renderer._canvasActors[e.id]=e)}function a(t,e){e instanceof s.CanvasActor&&(t.renderer._renderOrder=c.without(t.renderer._renderOrder,e.id),delete t.renderer._canvasActors[e.id])}var s=t.Rekapi,c=s._;s._rendererInitHook.canvas=function(t){void 0!==t.context.getContext&&(t.context=t.context.getContext("2d"),t.renderer=new p(t),c.extend(t._events,{beforeRender:[],afterRender:[]}),t.on("afterUpdate",i),t.on("addActor",o),t.on("removeActor",a),t.on("beforeRender",n))},s.CanvasRenderer=function(t){return this.rekapi=t,this._renderOrder=[],this._renderOrderSorter=null,this._canvasActors={},this};var p=s.CanvasRenderer;p.prototype.height=function(t){return r(this.rekapi.context.canvas,"height",t)},p.prototype.width=function(t){return r(this.rekapi.context.canvas,"width",t)},p.prototype.clear=function(){return this.rekapi.context.clearRect(0,0,this.width(),this.height()),this.rekapi},p.prototype.moveActorToLayer=function(t,e){return this._renderOrder.length>e?(this._renderOrder=c.without(this._renderOrder,t.id),this._renderOrder.splice(e,0,t.id),t):void 0},p.prototype.setOrderFunction=function(t){return this._renderOrderSorter=t,this.rekapi},p.prototype.unsetOrderFunction=function(){return this._renderOrderSorter=null,this.rekapi}}),i.push(function(t){"use strict";function e(){}var r=t.Rekapi;r._,r.CanvasActor=function(t){return r.Actor.call(this,t),t=t||{},this.render=t.render||n,this};var i=r.CanvasActor;e.prototype=r.Actor.prototype,i.prototype=new e,i.prototype.moveToLayer=function(t){return this.rekapi.renderer.moveActorToLayer(this,t)}}),i.push(function(t){"use strict";function e(t,e,r){t.style[e]=r}function r(t){return s.contains(p,t)}function n(t,e){var r=[];return s.each(t,function(t){e[t]&&r.push(t+"("+e[t]+")")}),r.join(" ")}function i(t,r){s.each(c,function(n){e(t,n,r)})}function o(){}var a=t.Rekapi,s=a._,c=["transform","webkitTransform","MozTransform","oTransform","msTransform"],p=["translateX","translateY","scale","scaleX","scaleY","rotate","skewX","skewY"];a.DOMActor=function(t,e){a.Actor.call(this,e),this.context=t;var r=this.getCSSName();return this.context.className.match(r)||(this.context.className+=" "+r),this._transformOrder=p.slice(0),delete this.update,delete this.teardown,this};var u=a.DOMActor;o.prototype=a.Actor.prototype,u.prototype=new o,u.prototype.update=function(t,o){var a=s.keys(o),c=s.filter(a,r),p=s.reject(a,r),u=s.pick(o,p);if(c.length){var h=s.pick(o,c),f=n(this._transformOrder,h);i(t,f)}else o.transform&&i(t,o.transform);s.each(u,function(r,n){e(t,n,r)},this)},u.prototype._beforeKeyframePropertyInterpolate=function(t){if("transform"===t.name){var e=t.value,r=t.nextProperty;r&&e.match(/3d\(/g)&&(t.value=e.replace(/3d\(/g,"__THREED__"),r.value=r.value.replace(/3d\(/g,"__THREED__"))}},u.prototype._afterKeyframePropertyInterpolate=function(t,e){if("transform"===t.name){var r=t.value,n=t.nextProperty;if(n&&r.match(/__THREED__/g)){t.value=r.replace(/__THREED__/g,"3d("),n.value=n.value.replace(/__THREED__/g,"3d(");var i=t.name;e[i]=e[i].replace(/__THREED__/g,"3d(")}}},u.prototype.teardown=function(){var t=this.context.className.match(/\S+/g),e=s.without(t,this.getCSSName());this.context.className=e},u.prototype.getCSSName=function(){return"actor-"+this.id},u.prototype.setTransformOrder=function(t){var e=s.reject(t,r);if(e.length)throw"Unknown or unsupported transform functions: "+e.join(", ");return this._transformOrder=s.uniq(t),this}}),i.push(function(t){"use strict";function r(t){return 0===t%1}function n(){var t=document.body.style;return"-webkit-animation"in t?"webkit":"-moz-animation"in t?"mozilla":"-ms-animation"in t?"microsoft":"-o-animation"in t?"opera":"animation"in t?"w3":""}function i(t){var e=document.createElement("style"),r="rekapi-"+K++;return e.id=r,e.innerHTML=t,document.head.appendChild(e),e}function o(t){var e=document.createElement("div");O.each(t.getAllActors(),function(t){if(t instanceof E.DOMActor){var r=t.context,n=r.parentElement;n.replaceChild(e,r),n.replaceChild(r,e)}}),e=null}function a(t,e){e=e||{};var r=[],n=e.name||t.getCSSName(),i=e.fps||M,o=Math.ceil(t.rekapi.animationLength()/1e3*i),a=!k(t),c=u(t,n,a,e.vendors,e.iterations,e.isCentered),p=s(t,n,o,a,e.vendors);return r.push(c),r.push(p),r.join("\n")}function s(t,e,r,n,i){var o=t.getTrackNames(),a=[];n?a.push(A(t,r)):O.each(o,function(e){a.push(P(t,r,e))});var s=[];return n?s.push(c(a[0],e,i)):O.each(o,function(t,r){s.push(c(a[r],e+"-"+t,i))}),s=s.join("\n")}function c(t,e,r){r=r||["w3"];var n=[];return O.each(r,function(r){var i=L(H,[D[r],e,t]),o=p(i,r);n.push(o)}),n.join("\n")}function p(t,e){var r=RegExp(U,"g"),n=D[e]+"transform",i=RegExp(N,"g"),o=D[e],a=t.replace(i,o).replace(r,n);return a}function u(t,e,r,n,i,o){n=n||["w3"];var a,s=[];O.each(n,function(n){a=h(t,e,n,r,i,o),s.push(a)});var c=L(q,[e,s.join("\n")]);return c}function h(t,e,r,n,i,o){var a=[],s=D[r];return a.push(f(t,e,s,n)),a.push(l(t,s)),a.push(d(t,s)),a.push(m(s)),a.push(y(s)),a.push(_(t.rekapi,s,i)),o&&a.push(v(s)),a.join("\n")}function f(t,e,r,n){var i=L("  %sanimation-name:",[r]),o=t.getTrackNames();return n?i+=L(" %s-keyframes;",[e]):(O.each(o,function(t){i+=L(" %s-%s-keyframes,",[e,t])}),i=i.slice(0,i.length-1),i+=";"),i}function l(t,e){return L("  %sanimation-duration: %sms;",[e,t.getEnd()-t.getStart()])}function d(t,e){return L("  %sanimation-delay: %sms;",[e,t.getStart()])}function m(t){return L("  %sanimation-fill-mode: forwards;",[t])}function y(t){return L("  %sanimation-timing-function: linear;",[t])}function _(t,e,r){var n;n=r?r:-1===t._timesToIterate?"infinite":t._timesToIterate;var i="  %sanimation-iteration-count: %s;";return L(i,[e,n])}function v(t){return L("  %stransform-origin: 0 0;",[t])}function g(t){var e=!1;if(t.nextProperty){var r,n=t.nextProperty.easing.split(" "),i=0,o=n.length,a=n[0];for(i;o>i;i++){if(r=n[i],!j[r]||a!==r){e=!1;break}e=!0,a=r}}return e}function k(t){return O.any(t._keyframeProperties,g)}function T(t,e,n){var i=[],o=t.name;"transform"===t.name&&(o=U);var a=j[t.nextProperty.easing.split(" ")[0]],s=L("cubic-bezier(%s)",[a]),c=r(e)?e:e.toFixed(2),p=r(n)?n:n.toFixed(2);return i.push(L("  %s% {%s:%s;%sanimation-timing-function: %s;}",[c,o,t.value,N,s])),i.push(L("  %s% {%s:%s;}",[p,o,t.nextProperty.value])),i.join("\n")}function P(t,e,r){var n=[],i=t.getEnd(),o=t.getStart(),a=t.getLength(),s=S(t,r,o);s&&n.push(s);var c=!1;O.each(t._propertyTracks[r],function(r){var i,s,p,u=C(r,o,a),h=r.nextProperty;if(h){i=C(h,o,a);var f=i-u;s=Math.floor(f/100*e)||1,p=f/s}else i=100,s=1,p=1;var l;if(g(r)){if(l=T(r,u,i),c){var d=n.length,m=n[d-1],y=m.split("\n")[0];n[d-1]=y}c=!0}else l=I(t,s,p,o,u,r),c&&l.shift(),l.length&&(l=l.join("\n")),c=!1;l.length&&n.push(l)});var p=x(t,r,o,i);return p&&n.push(p),n.join("\n")}function A(t,e){return I(t,e+1,100/e,0,0).join("\n")}function S(t,e,r){var n=t._propertyTracks[e][0];if(n.millisecond!==r){var i=I(t,1,1,n.millisecond,0,n);return i.join("\n")}}function x(t,e,r,n){var i=O.last(t._propertyTracks[e]);if(i.millisecond!==n){var o=I(t,1,1,r,100,i);return o.join("\n")}}function C(t,e,r){return 100*((t.millisecond-e)/r)}function I(t,e,r,n,i,o){var a,s,c,p=[],u=t.getLength();for(a=0;e>a;a++)s=i+a*r,t._updateState(s/100*u+n),c=+s.toFixed(2)+"% ",o?p.push("  "+c+w(t,o.name)):p.push("  "+c+w(t));return p}function w(t,e){var r,n=["{"];if(e){r={};var i=t.get()[e];i!==void 0&&(r[e]=i)}else r=t.get();var o;return O.each(r,function(t,e){o=t;var r=e;"transform"===e&&(r=U),n.push(r+":"+o+";")}),n.push("}"),n.join("")}var E=t.Rekapi,O=E._,R=E.Tweenable.now,b=250,L=function(t,e){var r=t;return O.each(e,function(t){r=r.replace("%s",t)}),r};E._rendererInitHook.cssAnimate=function(t){var e=t.context;1===e.nodeType&&"canvas"!==e.nodeName.toLowerCase()&&(t.renderer=new F(t))};var K=0;E.CSSRenderer=function(t){return this.rekapi=t,this._playTimestamp=null,this._cachedCSS=null,this._styleElement=null,this._stopSetTimeoutHandle=null,t.on("timelineModified",O.bind(function(){this._cachedCSS=null},this)),this};var F=E.CSSRenderer;F.prototype.canAnimateWithCSS=function(){return!!n()},F.prototype.animateWithCSS=function(t){this.isPlaying()&&this.stop();var r=this._cachedCSS||this.prerender.apply(this,arguments);if(this._styleElement=i(r),this._playTimestamp=R(),navigator.userAgent.match(/Presto/)&&o(this.rekapi),t){var n=t*this.rekapi.animationLength();this._stopSetTimeoutHandle=setTimeout(O.bind(this.stop,this,!0),n+b)}e(this.rekapi,"play",O)},F.prototype.prerender=function(t,e){return this._cachedCSS=this.toString({vendors:[n()],fps:e,iterations:t})},F.prototype.stop=function(t){if(this.isPlaying()){clearTimeout(this._stopSetTimeoutHandle),this._styleElement.innerHTML="",document.head.removeChild(this._styleElement),this._styleElement=null;var r;r=t?this.rekapi.animationLength():(R()-this._playTimestamp)%this.rekapi.animationLength(),this.rekapi.update(r),e(this.rekapi,"stop",O)}},F.prototype.isPlaying=function(){return!!this._styleElement};var M=30,U="TRANSFORM",N="VENDOR",D={microsoft:"-ms-",mozilla:"-moz-",opera:"-o-",w3:"",webkit:"-webkit-"},j={linear:".25,.25,.75,.75",easeInQuad:".55,.085,.68,.53",easeInCubic:".55,.055,.675,.19",easeInQuart:".895,.03,.685,.22",easeInQuint:".755,.05,.855,.06",easeInSine:".47,0,.745,.715",easeInExpo:".95,.05,.795,.035",easeInCirc:".6,.04,.98, .335",easeOutQuad:".25,.46,.45,.94",easeOutCubic:".215,.61,.355,1",easeOutQuart:".165,.84,.44,1",easeOutQuint:".23,1,.32,1",easeOutSine:".39,.575,.565,1",easeOutExpo:".19,1,.22,1",easeOutCirc:".075,.82,.165,1",easeInOutQuad:".455,.03,.515,.955",easeInOutCubic:".645,.045,.355,1",easeInOutQuart:".77,0,.175,1",easeInOutQuint:".86,0.07,1",easeInOutSine:".445,.05,.55,.95",easeInOutExpo:"1,0,0,1",easeInOutCirc:".785,.135,.15,.86"},H=["@%skeyframes %s-keyframes {","%s","}"].join("\n"),q=[".%s {","%s","}"].join("\n");E.CSSRenderer.prototype.toString=function(t){t=t||{};var e=[];return O.each(this.rekapi.getAllActors(),function(r){r instanceof E.DOMActor&&e.push(a(r,t))}),e.join("\n")}});var a=function(t,e){"use strict";var r=e?{}:t,n=e&&e.underscore?e.underscore:r._,a=e&&e.Tweenable?e.Tweenable:r.Tweenable;return o(r,n,a),n.each(i,function(t){t(r)}),r.Rekapi};if("function"==typeof define&&define.amd){var s="undefined"!=typeof _;define(["shifty","underscore"],function(t,e){var r=null!=e,n={Tweenable:t,underscore:r?e:_},i=a({},n);return!s&&r&&(this._=void 0),i})}else a(this)})(this);